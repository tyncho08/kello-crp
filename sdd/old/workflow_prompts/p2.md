## **Phase 2 – Extract & Ingest COBOL Programs into AI Agent Analysis**

**Objective:** Prepare the COBOL codebase for AI analysis.
**Expected input:** COBOL code from '../../legacy/' + Phase 1 results 'p1_results.md'.

**Prompt:**

 **Role:** COBOL-to-modern-stack migration engineer.
 **Goal:** Prepare the COBOL codebase for AI-driven analysis.
 **Instructions:**

 1. Organize source files into logical folders by naming convention/type.
 2. Remove only non-functional noise (irrelevant comments, dead code) if 100% safe.
 3. Ensure each file is sized for AI context limits.
 4. Create an index with file name, LOC, and purpose (if known).
    **Output format:**

 ```json
 [
   {"file": "PAYROLL01.CBL", "loc": 1200, "purpose": "Payroll calculations"},
   ...
 ]
 ```

 **Rules:** Preserve business logic. If purpose unknown, mark `"UNKNOWN"`.

**Output → Next input:** File index feeds Phase 3.