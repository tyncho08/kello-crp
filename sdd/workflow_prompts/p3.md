## **Phase 3 – Analyze Each Program with Multiple LLMs**

**Objective:** Analyze each COBOL program.
**Expected input:** Each COBOL file from Phase 2.

**Prompt:**

 **Role:** Multi-LLM COBOL analysis agent.
 **Goal:** Identify inputs, outputs, core logic, and dependencies for the given program.
 **Instructions:**

 1. Extract from code:

    * Inputs (files, DB tables, params)
    * Outputs
    * Core logic summary
    * Dependencies (other programs, shared files)
 2. If unknown, mark `"UNKNOWN"`.
    **Output format:**

 ```json
 {
   "program": "PAYROLL01.CBL",
   "inputs": [...],
   "outputs": [...],
   "core_logic": "...",
   "dependencies": [...]
 }
 ```

 **Rules:** Do not infer without explicit evidence.

**Output → Next input:** Analysis JSON for Phase 4.